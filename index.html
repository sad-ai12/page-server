<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H Rank Pro - এডমিন সহ</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Hind Siliguri',sans-serif;}
        body{background:linear-gradient(135deg,#1e3c72,#2a5298);min-height:100vh;color:#fff;display:flex;align-items:center;justify-content:center;}
        .container{max-width:420px;width:95%;background:#fff;color:#333;border-radius:20px;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,0.5);}
        header{background:#e74c3c;color:#fff;padding:20px;text-align:center;font-size:26px;font-weight:700;}
        .form,.dashboard,.admin{display:none;padding:25px;}
        input{width:100%;padding:15px;margin:12px 0;border-radius:12px;border:2px solid #ddd;font-size:16px;}
        button{width:100%;background:#e74c3c;color:#fff;padding:15px;border:none;border-radius:12px;font-size:18px;cursor:pointer;margin-top:10px;}
        button:hover{background:#c0392b;}
        .balance{background:#e8f5e9;padding:20px;border-radius:15px;margin:15px 0;text-align:center;}
        .balance h2{font-size:30px;color:#27ae60;}
        .rank-item{background:#fff3e0;padding:18px;margin:12px 0;border-radius:12px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,0.1);}
        .btn-small{background:#e74c3c;color:#fff;padding:10px 25px;border:none;border-radius:30px;cursor:pointer;}
        .admin-btn{background:#8e44ad;color:#fff;margin-top:15px;}
        .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:999;}
        .modal-content{background:#fff;margin:15% auto;padding:25px;width:90%;max-width:400px;border-radius:15px;color:#333;text-align:center;}
        .close{float:right;font-size:32px;cursor:pointer;color:#aaa;}
        .info{color:#e74c3c;font-weight:700;margin:15px 0;}
        .user-list{background:#f8f9fa;padding:15px;border-radius:10px;margin:10px 0;max-height:300px;overflow-y:auto;}
    </style>
</head>
<body>

<div class="container">

    <!-- লগইন ফর্ম -->
    <div id="loginForm" class="form" style="display:block;">
        <header>H Rank Pro</header>
        <input type="tel" id="phone" placeholder="মোবাইল নম্বর" value="01344034681">
        <input type="password" id="pass" placeholder="পাসওয়ার্ড" value="password09">
        <button onclick="login()">লগইন / রেজিস্টার</button>
        <div class="info">এডমিন: 01344034681 | Pass: password09</div>
    </div>

    <!-- ইউজার ড্যাশবোর্ড -->
    <div id="dashboard" class="dashboard">
        <header>ড্যাশবোর্ড - <span id="userPhone"></span></header>
        <div class="balance">
            <h2>ব্যালেন্স: ৳ <span id="balance">0</span></h2>
            <p>ফ্রি বোনাস দিন: <span id="freeDay">0</span>/4</p>
            <p>র‍্যাঙ্ক: <span id="rank">None</span></p>
        </div>

        <div class="rank-item">
            <h3>H1 → ৫০০ টাকা = রোজ ৫০</h3>
            <button class="btn-small" onclick="upgrade('H1',500,50)">আপগ্রেড</button>
        </div>
        <div class="rank-item">
            <h3>H2 → ৫০০০ টাকা = রোজ ৪০০</h3>
            <button class="btn-small" onclick="upgrade('H2',5000,400)">আপগ্রেড</button>
        </div>
        <div class="rank-item">
            <h3>H3 → ১৫০০০ টাকা = রোজ ১৩০০</h3>
            <button class="btn-small" onclick="upgrade('H3',15000,1300)">আপগ্রেড</button>
        </div>

        <button class="btn-small" onclick="openWithdraw()">উইথড্র করুন</button>
        <button class="btn-small" style="background:#34495e;" onclick="logout()">লগআউট</button>

        <!-- এডমিন বাটন -->
        <div id="adminBtn" style="display:none;">
            <button class="btn-small admin-btn" onclick="openAdmin()">⚡ এডমিন প্যানেল</button>
        </div>
    </div>

    <!-- এডমিন প্যানেল -->
    <div id="adminPanel" class="dashboard">
        <header style="background:#8e44ad;">⚡ এডমিন প্যানেল</header>
        <div class="balance">
            <h2>মোট ইউজার: <span id="totalUsers">0</span></h2>
            <h2>মোট ব্যালেন্স: ৳ <span id="totalBalance">0</span></h2>
        </div>
        <div class="user-list" id="userList"></div>
        <button class="btn-small" style="background:#27ae60;" onclick="document.getElementById('adminPanel').style.display='none'; document.getElementById('dashboard').style.display='block';">ব্যাক</button>
    </div>
</div>

<!-- উইথড্র মডাল -->
<div class="modal" id="withdrawModal">
    <div class="modal-content">
        <span class="close" onclick="this.parentElement.parentElement.style.display='none'">×</span>
        <h2>উইথড্র করুন</h2>
        <input type="text" placeholder="bKash/Nagad নম্বর" id="wNumber">
        <input type="number" placeholder="পরিমাণ" id="wAmount">
        <button style="background:#27ae60;" onclick="submitWithdraw()">সাবমিট</button>
    </div>
</div>

<script>
const ADMIN_PHONE = "01344034681";
const ADMIN_PASS = "password09";

function login(){
    const phone = document.getElementById('phone').value.trim();
    const pass = document.getElementById('pass').value;

    if(phone.length < 11 || pass.length < 6){
        alert("সঠিক তথ্য দিন!");
        return;
    }

    let user = {phone, pass, balance:0, freeDay:0, rank:"None", dailyIncome:0, lastBonus:0, lastClaim:0};

    if(phone === ADMIN_PHONE && pass === ADMIN_PASS){
        user.isAdmin = true;
        user.balance = 999999;
        user.rank = "H3 (Admin)";
    }

    localStorage.setItem('user', JSON.stringify(user));
    showDashboard();
}

function showDashboard(){
    const user = JSON.parse(localStorage.getItem('user'));
    if(!user){ window.location.reload(); }

    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('dashboard').style.display = 'block';
    document.getElementById('userPhone').innerText = user.phone;
    document.getElementById('balance').innerText = user.balance;
    document.getElementById('freeDay').innerText = user.freeDay;
    document.getElementById('rank').innerText = user.rank;

    if(user.isAdmin){
        document.getElementById('adminBtn').style.display = 'block';
    }

    // ফ্রি বোনাস + ডেইলি ইনকাম
    autoBonusAndIncome(user);
}

function autoBonusAndIncome(user){
    const now = Date.now();
    if(user.freeDay < 4 && (now - user.lastBonus) > 10000){ // ডেমোর জন্য 10 সেকেন্ড
        user.balance += 60;
        user.freeDay += 1;
        user.lastBonus = now;
        localStorage.setItem('user', JSON.stringify(user));
        alert("ফ্রি বোনাস ৬০ টাকা যোগ হয়েছে!");
    }
    if(user.dailyIncome > 0 && (now - user.lastClaim) > 10000){
        user.balance += user.dailyIncome;
        user.lastClaim = now;
        localStorage.setItem('user', JSON.stringify(user));
        alert(`\( {user.rank} থেকে \){user.dailyIncome} টাকা যোগ হয়েছে!`);
    }
    document.getElementById('balance').innerText = user.balance;
}

function upgrade(rank, deposit, daily){
    if(confirm(`\( {rank} এর জন্য \){deposit} টাকা ডিপোজিট?`)){
        const user = JSON.parse(localStorage.getItem('user'));
        user.balance += deposit;
        user.rank = rank;
        user.dailyIncome = daily;
        localStorage.setItem('user', JSON.stringify(user));
        alert(`\( {rank} সফল! রোজ \){daily} টাকা পাবেন।`);
        showDashboard();
    }
}

function openWithdraw(){ document.getElementById('withdrawModal').style.display = 'block'; }
function submitWithdraw(){
    const amt = document.getElementById('wAmount').value;
    if(amt >= 300){
        alert(`উইথড্র রিকোয়েস্ট সফল! ${amt} টাকা ২৪ ঘণ্টায় পাঠানো হবে।`);
        document.getElementById('withdrawModal').style.display = 'none';
    }else alert("মিনিমাম ৩০০ টাকা!");
}

function openAdmin(){
    document.getElementById('dashboard').style.display = 'none';
    document.getElementById('adminPanel').style.display = 'block';
    document.getElementById('totalUsers').innerText = "1 (ডেমো)";
    document.getElementById('totalBalance').innerText = "999999+";
    document.getElementById('userList').innerHTML = "<p>এডমিন মোড চালু ⚡</p><p>সবকিছু কন্ট্রোল করতে পারবেন</p>";
}

function logout(){
    localStorage.clear();
    window.location.reload();
}

window.onload = () => localStorage.getItem('user') && showDashboard();
</script>
</body>
</html>
